<!DOCTYPE html>
<html>
<head>
<title>Knight Tyme (48k): Routine at 32895</title>
<meta charset="utf-8" />
<link rel="stylesheet" type="text/css" href="../skoolkit.css" />
<link rel="stylesheet" type="text/css" href="../spectrum.css" />
<link rel="stylesheet" type="text/css" href="../knight_tyme.css" />
<script type="text/javascript" src="../js/require.js"></script>
<script type="text/javascript" src="../js/main.js"></script>
<script type="text/javascript" src="../js/bootstrap.js"></script>
</head>
<body class="Asm-c">
<table class="header">
<tr>
<td class="logo"><a href="../index.html"><img alt="logo" src="../images/logo.png" /></a></td>
<td class="page-header">Routines</td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev"><span class="prev-1">Prev: <a href="32886.html">32886</a></span></td>
<td class="up">Up: <a href="../maps/all.html#32895">Map</a></td>
<td class="next"><span class="next-1">Next: <a href="33100.html">33100</a></span></td>
</tr>
</table>
<div class="description">32895: Process Command to Communicate</div>
<table class="disassembly">
<tr>
<td class="routine-comment" colspan="4">
<div class="details">

</div>
<table class="input-0">
<tr class="asm-input-header">
<th colspan="2">Input</th>
</tr>

</table>
<table class="output-0">
<tr class="asm-output-header">
<th colspan="2">Output</th>
</tr>

</table>
</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-2"><span id="32895"></span>32895</td>
<td class="instruction">LD A,(23700)</td>
<td class="comment-11" rowspan="1">Load B with USS Pisces' current location...</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="32898"></span>32898</td>
<td class="instruction">LD B,A</td>
<td class="comment-11" rowspan="1">...</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="32899"></span>32899</td>
<td class="instruction">LD HL,48004</td>
<td class="comment-11" rowspan="1">Point HL at start of Planets' "REQUEST HELP" Strings</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="32902"></span>32902</td>
<td class="instruction">CALL <a href="54266.html#54269">54269</a></td>
<td class="comment-11" rowspan="1">Advance HL to "REQUEST HELP" string for current location</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="32905"></span>32905</td>
<td class="instruction">LD A,(HL)</td>
<td class="comment-11" rowspan="1">Load first byte of data (usually height of text) into A...</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="32906"></span>32906</td>
<td class="instruction">OR A</td>
<td class="comment-11" rowspan="1">...and if this zero (i.e. the current location is not valid for communication)...</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="32907"></span>32907</td>
<td class="instruction">JP Z,<a href="55298.html">55298</a></td>
<td class="comment-11" rowspan="1">...then display "THERE IS NOBODY WITHIN SUB-SPACE COMMUNICATOR RANGE" Window (12), wait for fire to be pressed then jump to Main Game Loop</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="32910"></span>32910</td>
<td class="instruction">CALL <a href="54333.html">54333</a></td>
<td class="comment-11" rowspan="1">Print or update Command Summary Window at top of screen</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="32913"></span>32913</td>
<td class="instruction">LD DE,42180</td>
<td class="comment-11" rowspan="1">Point DE at "COMMUNICATE WITH"...</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="32916"></span>32916</td>
<td class="instruction">CALL <a href="54283.html">54283</a></td>
<td class="comment-11" rowspan="1">...and print in Command Summary Window at top of screen</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="32919"></span>32919</td>
<td class="instruction">LD HL,42191</td>
<td class="comment-11" rowspan="1">Point HL at "CHOOSE COMMUNICATION" menu text</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="32922"></span>32922</td>
<td class="instruction">LD DE,37091</td>
<td class="comment-11" rowspan="1">Adjust height of Main Menu (Game) / "Choose Communication" Window to accommodate text...</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="32925"></span>32925</td>
<td class="instruction">CALL <a href="33774.html">33774</a></td>
<td class="comment-11" rowspan="1">...</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="32928"></span>32928</td>
<td class="instruction">PUSH HL</td>
<td class="comment-11" rowspan="1">Store HL (pointer to start of text to print)</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="32929"></span>32929</td>
<td class="instruction">XOR A</td>
<td class="comment-11" rowspan="1">Draw "Choose Communication" Menu Window...</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="32930"></span>32930</td>
<td class="instruction">CALL <a href="34982.html">34982</a></td>
<td class="comment-11" rowspan="1">...</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="32933"></span>32933</td>
<td class="instruction">POP HL</td>
<td class="comment-11" rowspan="1">Restore HL (pointer to start of text to print)</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="32934"></span>32934</td>
<td class="instruction">CALL <a href="34762.html">34762</a></td>
<td class="comment-11" rowspan="1">Print text to screen</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="32937"></span>32937</td>
<td class="instruction">CALL <a href="35296.html">35296</a></td>
<td class="comment-11" rowspan="1">Process keyboard / joystick input on a menu and load A with selected item index</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="32940"></span>32940</td>
<td class="instruction">LD (32984),A</td>
<td class="comment-11" rowspan="1">Store index of selected menu item as operand of instruction at <a href="32895.html#32983">32983</a>...</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="32943"></span>32943</td>
<td class="instruction">LD B,A</td>
<td class="comment-11" rowspan="1">...and load into B</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="32944"></span>32944</td>
<td class="instruction">LD HL,42300</td>
<td class="comment-11" rowspan="1">Point HL at "REQUEST HELP" text</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="32947"></span>32947</td>
<td class="instruction">CALL <a href="54266.html#54269">54269</a></td>
<td class="comment-11" rowspan="1">Advance HL to "REFUEL STARSHIP" text if refuel option was selected</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="32950"></span>32950</td>
<td class="instruction">EX DE,HL</td>
<td class="comment-11" rowspan="1">Swap HL and DE (DE now points to "REQUEST HELP" or "REFUEL STARSHIP" text)...</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="32951"></span>32951</td>
<td class="instruction">CALL <a href="54283.html">54283</a></td>
<td class="comment-11" rowspan="1">...and print in Command Summary Window at top of screen</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="32954"></span>32954</td>
<td class="instruction">CALL <a href="55115.html">55115</a></td>
<td class="comment-11" rowspan="1">Display Execute / Reject Command window and return here if Execute chosen, else exit to Main Game Loop</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="32957"></span>32957</td>
<td class="instruction">CALL <a href="33788.html">33788</a></td>
<td class="comment-11" rowspan="1">If Gordon and Sarab are both asleep then reset Zero Flag, otherwise increase their happiness by five if not</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="32960"></span>32960</td>
<td class="instruction">JP NZ,<a href="55291.html">55291</a></td>
<td class="comment-11" rowspan="1">If Zero Flag is reset then display "GORDON AND SARAB ARE BOTH ASLEEP" Window (12), wait for fire to be pressed then jump to Main Game Loop</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="32963"></span>32963</td>
<td class="instruction">LD A,27</td>
<td class="comment-11" rowspan="1">If Magic Knight is wearing the Gas Mask (27)...</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="32965"></span>32965</td>
<td class="instruction">CALL <a href="33640.html">33640</a></td>
<td class="comment-11" rowspan="1">...</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="32968"></span>32968</td>
<td class="instruction">JP Z,<a href="55327.html">55327</a></td>
<td class="comment-11" rowspan="1">...then display "GORDON AND SARAB CANNOT UNDERSTAND YOU" Window (12), wait for fire to be pressed then jump to Main Game Loop</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="32971"></span>32971</td>
<td class="instruction">LD A,1</td>
<td class="comment-11" rowspan="1">Set Draw Communicate Window / Face Flag...</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="32973"></span>32973</td>
<td class="instruction">LD (23461),A</td>
<td class="comment-11" rowspan="1">...</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="32976"></span>32976</td>
<td class="instruction">CALL <a href="27762.html#27765">27765</a></td>
<td class="comment-11" rowspan="1">Draw Magic Knight's current room, draw objects and characters and initialise room-specific data</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="32979"></span>32979</td>
<td class="instruction">XOR A</td>
<td class="comment-11" rowspan="1">Reset Draw Communicate Window / Face Flag...</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="32980"></span>32980</td>
<td class="instruction">LD (23461),A</td>
<td class="comment-11" rowspan="1">...</td>
</tr>
<tr>
<td class="routine-comment" colspan="4">
<span id="32983"></span>
<div class="comments">
<div class="paragraph">
The operand of the instruction at <a href="32895.html#32983">32983</a> represents the index of the option selected from "CHOOSE COMMUNICATION" menu. This is modified by the instruction at <a href="32895.html#32940">32940</a>.
</div>
</div>
</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="32983"></span>32983</td>
<td class="instruction">LD A,0</td>
<td class="comment-11" rowspan="1">Load A with selected menu option index</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="32985"></span>32985</td>
<td class="instruction">CP 1</td>
<td class="comment-11" rowspan="1">If "REFUEL STARSHIP" was selected...</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="32987"></span>32987</td>
<td class="instruction">JP Z,33019</td>
<td class="comment-11" rowspan="1">...then skip ahead to <a href="32895.html#33019">33019</a></td>
</tr>
<tr>
<td class="routine-comment" colspan="4">
<span id="32990"></span>
<div class="comments">
<div class="paragraph">
Request Help Option Selected
</div>
</div>
</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="32990"></span>32990</td>
<td class="instruction">LD A,(23700)</td>
<td class="comment-11" rowspan="1">Load B with index of USS Pisces' current location...</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="32993"></span>32993</td>
<td class="instruction">LD B,A</td>
<td class="comment-11" rowspan="1">...</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="32994"></span>32994</td>
<td class="instruction">LD HL,48004</td>
<td class="comment-11" rowspan="1">Point HL at start of Planets' "REQUEST HELP" Strings</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="32997"></span>32997</td>
<td class="instruction">CALL <a href="54266.html#54269">54269</a></td>
<td class="comment-11" rowspan="1">Advance HL to B-th entry in this list</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="33000"></span>33000</td>
<td class="instruction">LD DE,37211</td>
<td class="comment-11" rowspan="1">Adjust height of Window 15 to accommodate text...</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="33003"></span>33003</td>
<td class="instruction">CALL <a href="33774.html">33774</a></td>
<td class="comment-11" rowspan="1">...</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="33006"></span>33006</td>
<td class="instruction">PUSH HL</td>
<td class="comment-11" rowspan="1">Store HL (pointer to start of text to print)</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="33007"></span>33007</td>
<td class="instruction">LD A,15</td>
<td class="comment-11" rowspan="1">Draw Window 15...</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="33009"></span>33009</td>
<td class="instruction">CALL <a href="34990.html">34990</a></td>
<td class="comment-11" rowspan="1">...</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="33012"></span>33012</td>
<td class="instruction">POP HL</td>
<td class="comment-11" rowspan="1">Restore HL (pointer to start of text to print)</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="33013"></span>33013</td>
<td class="instruction">CALL <a href="34762.html">34762</a></td>
<td class="comment-11" rowspan="1">Print text to screen</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-2"><span id="33016"></span>33016</td>
<td class="instruction">JP <a href="29330.html#29479">29479</a></td>
<td class="comment-11" rowspan="1">Display "PRESS FIRE TO CONTINUE" Window and wait for input and return to Main Game Loop</td>
</tr>
<tr>
<td class="routine-comment" colspan="4">
<span id="33019"></span>
<div class="comments">
<div class="paragraph">
Refuel Starship Option Selected
</div>
</div>
</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-2"><span id="33019"></span>33019</td>
<td class="instruction">LD A,1</td>
<td class="comment-11" rowspan="1">Draw Window 1...</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="33021"></span>33021</td>
<td class="instruction">CALL <a href="34990.html">34990</a></td>
<td class="comment-11" rowspan="1">...</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="33024"></span>33024</td>
<td class="instruction">LD HL,42216</td>
<td class="comment-11" rowspan="1">Point HL at "REFUEL STARSHIP REQUESTED" text...</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="33027"></span>33027</td>
<td class="instruction">CALL <a href="34762.html">34762</a></td>
<td class="comment-11" rowspan="1">...and print to screen</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="33030"></span>33030</td>
<td class="instruction">LD A,(23700)</td>
<td class="comment-11" rowspan="1">Load BC with double index of USS Pisces' current location...</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="33033"></span>33033</td>
<td class="instruction">ADD A,A</td>
<td class="comment-11" rowspan="1">...</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="33034"></span>33034</td>
<td class="instruction">LD C,A</td>
<td class="comment-11" rowspan="1">...</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="33035"></span>33035</td>
<td class="instruction">LD B,0</td>
<td class="comment-11" rowspan="1">...</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="33037"></span>33037</td>
<td class="instruction">LD HL,25397</td>
<td class="comment-11" rowspan="1">Point HL at start of Current Planetary Data...</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="33040"></span>33040</td>
<td class="instruction">ADD HL,BC</td>
<td class="comment-11" rowspan="1">...and add BC as offset</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="33041"></span>33041</td>
<td class="instruction">LD B,200</td>
<td class="comment-11" rowspan="1">Load B with 200 (as USS Pisces can hold 200 units of fuel)</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="33043"></span>33043</td>
<td class="instruction">LD A,(HL)</td>
<td class="comment-11" rowspan="1">Load A with current location's available fuel level...</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="33044"></span>33044</td>
<td class="instruction">OR A</td>
<td class="comment-11" rowspan="1">...and if this is zero...</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="33045"></span>33045</td>
<td class="instruction">JP Z,33084</td>
<td class="comment-11" rowspan="1">...then skip ahead to <a href="32895.html#33084">33084</a></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="33048"></span>33048</td>
<td class="instruction">CP 255</td>
<td class="comment-11" rowspan="1">If available fuel level is 255 (i.e. unlimited)...</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="33050"></span>33050</td>
<td class="instruction">JP Z,33072</td>
<td class="comment-11" rowspan="1">...then skip ahead to <a href="32895.html#33072">33072</a></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="33053"></span>33053</td>
<td class="instruction">LD B,A</td>
<td class="comment-11" rowspan="1">Load B with current location's available fuel level</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="33054"></span>33054</td>
<td class="instruction">LD A,(25013)</td>
<td class="comment-11" rowspan="1">Load A with USS Pisces' current Star Drive Fuel level</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-2"><span id="33057"></span>33057</td>
<td class="instruction">CP 200</td>
<td class="comment-11" rowspan="1">If A is 200...</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="33059"></span>33059</td>
<td class="instruction">JR Z,33067</td>
<td class="comment-11" rowspan="1">...then skip ahead to <a href="32895.html#33067">33067</a></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="33061"></span>33061</td>
<td class="instruction">INC A</td>
<td class="comment-11" rowspan="1">Increase A (USS Pisces' fuel) by one</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="33062"></span>33062</td>
<td class="instruction">DEC B</td>
<td class="comment-11" rowspan="1">Decrease B (planet's fuel) by one</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="33063"></span>33063</td>
<td class="instruction">JR Z,33093</td>
<td class="comment-11" rowspan="1">If B is zero then skip ahead to <a href="32895.html#33093">33093</a></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="33065"></span>33065</td>
<td class="instruction">JR 33057</td>
<td class="comment-11" rowspan="1">Loop back to <a href="32895.html#33057">33057</a></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-2"><span id="33067"></span>33067</td>
<td class="instruction">LD (HL),B</td>
<td class="comment-11" rowspan="1">Store updated (i.e. reduced) value for planet's fuel</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="33068"></span>33068</td>
<td class="instruction">LD B,A</td>
<td class="comment-11" rowspan="1">Load B with USS Pisces' new fuel level</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="33069"></span>33069</td>
<td class="instruction">LD HL,42282</td>
<td class="comment-11" rowspan="1">Point HL at "THE USS PISCES IS FULLY REFUELED" text...</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-2"><span id="33072"></span>33072</td>
<td class="instruction">LD HL,42282</td>
<td class="comment-11" rowspan="1">... (<a href="../reference/facts.html#redundantinstructions">see trivia</a>)</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-2"><span id="33075"></span>33075</td>
<td class="instruction">LD A,B</td>
<td class="comment-11" rowspan="1">Set USS Pisces' new fuel level...</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="33076"></span>33076</td>
<td class="instruction">LD (25013),A</td>
<td class="comment-11" rowspan="1">...</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="33079"></span>33079</td>
<td class="instruction">CALL <a href="34762.html">34762</a></td>
<td class="comment-11" rowspan="1">Print text to screen</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="33082"></span>33082</td>
<td class="instruction">JR 33016</td>
<td class="comment-11" rowspan="1">Display "PRESS FIRE TO CONTINUE" Window and wait for input and return to Main Game Loop</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-2"><span id="33084"></span>33084</td>
<td class="instruction">LD HL,42226</td>
<td class="comment-11" rowspan="1">Point HL at "SORRY MAGIC KNIGHT WE ARE OUT OF FUEL" text...</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="33087"></span>33087</td>
<td class="instruction">CALL <a href="34762.html">34762</a></td>
<td class="comment-11" rowspan="1">...and print to screen</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="33090"></span>33090</td>
<td class="instruction">JP 33016</td>
<td class="comment-11" rowspan="1">Display "PRESS FIRE TO CONTINUE" Window and wait for input and return to Main Game Loop</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-2"><span id="33093"></span>33093</td>
<td class="instruction">LD (HL),B</td>
<td class="comment-11" rowspan="1">Store updated (i.e. zero) value for planet's fuel</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="33094"></span>33094</td>
<td class="instruction">LD HL,42240</td>
<td class="comment-11" rowspan="1">Point HL at "...WE DO NOT HAVE ENOUGH FUEL..." text</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="33097"></span>33097</td>
<td class="instruction">LD B,A</td>
<td class="comment-11" rowspan="1">Load B with USS Pisces' new fuel level</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="33098"></span>33098</td>
<td class="instruction">JR 33075</td>
<td class="comment-11" rowspan="1">Jump back to <a href="32895.html#33075">33075</a></td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev"><span class="prev-1">Prev: <a href="32886.html">32886</a></span></td>
<td class="up">Up: <a href="../maps/all.html#32895">Map</a></td>
<td class="next"><span class="next-1">Next: <a href="33100.html">33100</a></span></td>
</tr>
</table>
<footer>
<div class="release">The Complete Knight Tyme (48k) RAM Disassembly 02/06/2018</div>
<div class="copyright">&#169; 1986 David Jones / Mastertronic (Knight Tyme). &#169; 2017 Philip M. Anderson (this disassembly). Contact: weyoun47-AT-gmail.com.</div>
<div class="created">Created using <a class="link" href="http://skoolkit.ca/">SkoolKit</a> 6.4.</div>
</footer>
</body>
</html>