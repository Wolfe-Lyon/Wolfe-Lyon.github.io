<!DOCTYPE html>
<html>
<head>
<title>Through the Trap Door: Data at 34228</title>
<meta charset="utf-8" />
<link rel="stylesheet" type="text/css" href="../skoolkit.css" />
<link rel="stylesheet" type="text/css" href="../common.css" />
<link rel="stylesheet" type="text/css" href="../through_the_trap_door.css" />
<script type="text/javascript" src="../js/require.js"></script>
<script type="text/javascript" src="../js/main.js"></script>
<script type="text/javascript" src="../js/memory_dump.js"></script>
<script type="text/javascript" src="../js/bootstrap.js"></script>
</head>
<body class="Asm-b">
<table class="header">
<tr>
<td class="logo"><a href="../index.html"><img alt="logo" src="../images/logo.png" /></a></td>
<td class="page-header">Data</td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev">
Prev: <a href="34227.html">34227</a>
</td>
<td class="up">Up: <a href="../maps/all.html#34228">Map</a></td>
<td class="next">
Next: <a href="34230.html">34230</a>
</td>
</tr>
</table>
<div class="description">34228: Data for clawed foot (level 3)</div>
<table class="disassembly">
<tr>
<td class="routine-comment" colspan="5">
<div class="details">
<div class="paragraph">
Location <a href="34228.html#34229">34229</a> holds the index of the action performed by clawed foot after it picks Berk up. This value is incremented when the clawed foot reaches the top of its vertical range of travel while carrying Berk. If the incremented value exceeds six, then it is reset to one. After incrementing (and resetting if appropriate), the value is used to determine what the clawed foot does with Berk:
</div>
<div class="paragraph">
<table class="default">
<tr>
<th colspan="1" rowspan="1">Value</th>
<th colspan="1" rowspan="1">Effect</th>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="1">1</td>
<td class="" colspan="1" rowspan="1">Release Berk immediately</td>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="1">2</td>
<td class="" colspan="1" rowspan="1">Release Berk immediately</td>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="1">3</td>
<td class="" colspan="1" rowspan="1">Move left and release Berk when the x-coordinate of his left edge is 122 in room 5</td>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="1">4</td>
<td class="" colspan="1" rowspan="1">Move right and release Berk when the x-coordinate of his left edge is 122 in room 7</td>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="1">5</td>
<td class="" colspan="1" rowspan="1">Move left and release Berk when the x-coordinate of his left edge is 112 in room 5 (i.e. drop Berk down to platform room)</td>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="1">6</td>
<td class="" colspan="1" rowspan="1">Move right and release Berk when the x-coordinate of his left edge is 112 in room 7 (i.e. drop Berk down to hatch room)</td>
</tr>
</table>
</div>
</div>
</td>
</tr>
<tr>
<td class="address-1"><span id="34228"></span>34228</td>
<td class="instruction">DEFB 0</td>
<td class="comment-1" rowspan="1">Time (cycles) until clawed foot (level 3) attacks</td>
</tr>
<tr>
<td class="address-1"><span id="34229"></span>34229</td>
<td class="instruction">DEFB 0</td>
<td class="comment-1" rowspan="1">Clawed foot's action index</td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev">
Prev: <a href="34227.html">34227</a>
</td>
<td class="up">Up: <a href="../maps/all.html#34228">Map</a></td>
<td class="next">
Next: <a href="34230.html">34230</a>
</td>
</tr>
</table>
<footer>
<div class="release">The Complete Through the Trap Door RAM Disassembly 10/04/2021</div>
<div class="copyright">&#169; 1987 Don Priestley / Piranha / Alternative Software Ltd (Through the Trap Door). &#169; 2015-2021 Philip M. Anderson (this disassembly). Contact: weyoun47-AT-gmail.com.</div>
<div class="created">Created using <a class="link" href="http://skoolkit.ca/">SkoolKit</a> 8.4.</div>
</footer>
</body>
</html>